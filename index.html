<!DOCTYPE html>
<html>
  <head>
    <script>
      const activateAR = (href, isQuickLook, button) => {
        const anchor = document.createElement("a");
        if (isQuickLook) {
          isQuickLook = true;

          anchor.appendChild(document.createElement("img"));
          anchor.rel = "ar";
        }
        anchor.setAttribute("href", href);
        anchor.click();

        anchor.addEventListener("message", (event) => {
          button.dispatchEvent(new CustomEvent("quick-look-button-tapped"));
        });
      };
      var isMobile = {
        Android: function () {
          return navigator.userAgent.match(/Android/i);
        },
        BlackBerry: function () {
          return navigator.userAgent.match(/BlackBerry/i);
        },
        iOS: function () {
          return navigator.userAgent.match(/iPhone|iPad|iPod/i);
        },
        Opera: function () {
          return navigator.userAgent.match(/Opera Mini/i);
        },
        Windows: function () {
          return navigator.userAgent.match(/IEMobile/i);
        },
        any: function () {
          return (
            isMobile.Android() ||
            isMobile.BlackBerry() ||
            isMobile.iOS() ||
            isMobile.Opera() ||
            isMobile.Windows()
          );
        },
      };

      if (isMobile.Android()) {
        document.location.href = "./bagel_Yellow.glb";
      } else if (isMobile.iOS()) {
        // document.location.href = "./Kyiv_200x300.usdz";

        const iosSrc = "./Kyiv_200x300.usdz";

        let href = `${iosSrc}#`;

        activateAR(href, button, true);
      }
    </script>
  </head>
  <body></body>
</html>
